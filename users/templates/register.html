{% load static %} {% load static tailwind_tags %}
<head>
  {% tailwind_css %}
  <title>registro</title>
</head>

<body class="bg-[#d9d9d9]">
  
  <!-- msj error  -->
<div class="fixed z-50 self-center">{% include 'mensajes/mensajes.html' %}</div>

  <div class="flex justify-center mt-8 h-[840px]">
    <div
      class="grid grid-cols-1 justify-items-center w-3/5 shadow-2xl bg-gray-150"
    >
      <div class="flex items-center pt-2 mb-8">

        <a href="{%url 'main'%}" class="duration-200 hover:scale-105 hover:rotate-1">
        <img
          src="{%static 'imgs/logo.png'%}"
          alt="logo"
          id="img"
          class="h-28 w-28"
        />
        </a>
      </div>

      <div class="">
        <form method="post" >
          
          <div class="flex flex-col space-y-4 justify-center place-content-center ">
          {% csrf_token %}
          <div>{{form.username.label_tag}} {{form.username}}</div>
          <div>{{form.first_name.label_tag}} {{form.first_name}}</div>
          <div>{{form.last_name.label_tag}} {{form.last_name}}</div>
          <div> {{form.email.label_tag}} {{form.email}}</div>
          <div>{{form.telefono.label_tag}} {{form.telefono}}</div>
          <div> {{form.password1.label_tag}} {{form.password1}}</div>
          <div>{{form.password2.label_tag}} {{form.password2}}</div>
          </div>
          <div class="flex items-center">

            <button
              type="button"
              onclick="togglePasswordVisibility('password2')"
              class="flex absolute duration-200 hover:scale-110 ml-[390px] mb-10"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth="{1.5}"
                stroke="currentColor"
                class="h-6 w-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"
                />
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
                />
              </svg>
            </div>
         
          <div class="flex items-center">
            <button
              type="button"
              onclick="togglePasswordVisibility('password1')"
              class="flex absolute duration-200 hover:scale-110 ml-[390px] mb-40"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth="{1.5}"
                stroke="currentColor"
                class="h-6 w-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"
                />
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
                />
              </svg>
            </button>
          </div>

          <button
            type="submit"
            class=" mt-5 w-full font-semibold bg-cyan-500 rounded-lg h-8 text-gray-200 text-md duration-200 hover:scale-110 hover:bg-cyan-400 hover:text-lg focus:bg-cyan-300"
          >
            Enviar
          </button>
        </form>
      </div>
      <div class="flex space-x-1">
      <p>¿ya tienes una cuenta? </p>
      <a
        href="{%url 'loggin'%}"
        class="ease-in-out duration-300 hover:text-[#0097b2] hover:text-lg mb-4"
        >Click aqui</a
      >
      </div>
      
    </div>
  </div>

  <script>
    function togglePasswordVisibility(id) {
      var passwordField = document.getElementById(id);
      var passwordFieldType = passwordField.getAttribute("type");
      if (passwordFieldType === "password") {
        passwordField.setAttribute("type", "text");
      } else {
        passwordField.setAttribute("type", "password");
      }
    }
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
    const passwordInput = document.getElementById('password');
    const hint = document.getElementById('password-hint');

    passwordInput.addEventListener('input', () => {
        const password = passwordInput.value;
        const hasUppercase = /[A-Z]/.test(password);
        const hasNumber = /\d/.test(password);
        const isValidLength = password.length >= 8;

        if (isValidLength && hasUppercase && hasNumber) {
            passwordInput.setCustomValidity('');
            hint.textContent = 'Contraseña válida';
            hint.style.color = 'green';
        } else {
            passwordInput.setCustomValidity('La contraseña debe tener al menos 8 caracteres, una letra mayúscula y un número.');
            hint.textContent = 'La contraseña debe tener al menos 8 caracteres, una letra mayúscula y un número.';
            hint.style.color = 'red';
        }
    });
});

  </script>
</body>
